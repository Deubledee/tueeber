<html><head><link rel="import" href="../public/bower_components/polymer/polymer-element.html"><link rel="import" href="components/youtube-search.html"><link rel="import" href="components/youtube-lite.html"><link rel="import" href="components/time-input.html"><link rel="import" href="components/search-results.html"><link rel="import" href="components/play-button.html"><link rel="import" href="components/drag-button.html"><link rel="import" href="components/vol-but.html"></head><body><dom-module id="page-video"><template><style>:host{position:relative;height:calc(100vh - 60px);--primary-color:var(--paper-red-500);--primary-text-color:#fff;--paper-toggle-button-unchecked-bar-color:#888;}paper-input{margin-left:-10%;width:74px;margin-top:23px;}paper-toggle-button{padding-top:31px;}#controls{color:#fff;@apply --layout-vertical;@apply --layout-center-center;position:relative;}#controls>div{@apply --layout-horizontal;padding-bottom:1em;}.z2{position:relative;z-index:2;margin-right:-5px;}.search{display:none;}.type{font-family:sans-serif;font-size:11px;letter-spacing:1px;height:12px;border-radius:4px;padding-top:5px;padding-left:3px;padding-right:3px;}.value{margin-left:25%;margin-right:19px;visibility:hidden;}.value2{margin-left:18px;visibility:hidden;padding-left:4px;}.navi{display:-webkit-box;}.navtem{padding:2px;margin-left:8px;color:#5e8aab;font-weight:bold;}paper-icon-button{position:relative;color:#bd8130;top:-16.5px;left:10px;}paper-icon-button[drop]{top:-42px;z-index:1;transition:z-index 0.5 ease, top 0.5 ease;}paper-icon-button.right{left:30.5%;top:-6px;}.volumeButton{border-radius:12px;position:relative;width:25px;height:25px;top:15px;right:-27.5%;background:#4c4c4c;background:-moz-radial-gradient(ellipse at center, #4c4c4c 0%, #595959 8%, #595959 8%, #595959 11%, #666666 18%, #474747 20%, #2c2c2c 24%, rgba(0, 0, 0, 0.4) 47%, rgba(17, 17, 17, 0.14901960784313725) 60%, rgba(28, 28, 28, 0) 91%, rgba(43, 43, 43, 0) 94%, rgba(43, 43, 43, 0) 94%, rgba(19, 19, 19, 0) 100%);background:-webkit-radial-gradient(ellipse at center, #4c4c4c 0%, #595959 8%, #595959 8%, #595959 11%, #666666 18%, #474747 20%, #2c2c2c 24%, rgba(0, 0, 0, 0.4) 47%, rgba(17, 17, 17, 0.14901960784313725) 60%, rgba(28, 28, 28, 0) 91%, rgba(43, 43, 43, 0) 94%, rgba(43, 43, 43, 0) 94%, rgba(19, 19, 19, 0) 100%);background:radial-gradient(ellipse at center, #403f3f 0%, #595959 8%, rgb(89, 89, 89) 8%, #616060 11%, #666666 18%, #474747 20%, rgba(103, 144, 125, 0.67) 24%, rgba(125, 123, 123, 0.4) 47%, rgba(17, 17, 17, 0.14901960784313725) 60%, rgb(56, 75, 89) 91%, rgba(43, 43, 43, 0) 94%, rgb(45, 138, 210) 94%, rgba(19, 19, 19, 0) 100%);transition:border-radius 1s ease-out;}.volumeButton[show]{border-radius:5px;}.navbar{top:0px;padding-top:32px;padding-left:19px;}.navbar[wide]{width:95%;}.navbar-bottom{background:linear-gradient(to right, #464446 0%, #070401 5%, #464446 50%, #040500 95%, #464446 100%);height:auto;min-height:28px;}youtube-lite.player[default]{width:100% !important;height:43vh !important;}.mie[default]{margin-left:15px;margin-right:15px;margin-top:-1px;background:linear-gradient(to right, #464446 0%, #070401 5%, #464446 50%, #040500 95%, #464446 100%);}.mie[wide]{position:fixed;top:-187px;background:linear-gradient(to right, #464446 0%, #070401 5%, #464446 50%, #040500 95%, #464446 100%);-webkit-transition:top 0.5s ease-out;-moz-transition:top 0.5s ease-out;transition:top 0.5s ease-out;}.mie[drop]{top:37px;background:transparent;}.navbar-expand-lg{overflow:hidden;}.drag{display:none;}.drag[wide]{display:block;}.volume{position:relative;opacity:0;top:44px;z-index:0;height:0px;-webkit-transition:all 0.5s ease-in-out;-moz-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out;}.volume[show]{top:9px;position:relative;opacity:1;z-index:1;width:auto;height:31px;margin-bottom:52px;}@media (min-width: 992px){.navbar-expand-lg{top:-24px;}.player{top:-6px;}}@media (min-height: 992px){.slider{margin-top:-25px;}.navbar-expand-lg{top:-24px;}#controls{height:137px;}}.topy{padding-top:12px;height:30px;}.state{visibility:hidden;}.right{float:right;}</style><app-route route="{{route}}" pattern="/:vid" data="{{data}}" tail="{{videoTail}}" query-params="{{queryParams}}" active="{{videoPageActive}}"></app-route><nav id="navYt" wide$="[[wide]]" class="navbar navbar-expand-lg"><youtube-lite class="player" default$="[[default]]" id="player" video-id="{{videoId}}" state="{{queryParams.state}}" current-time="{{queryParams.time}}" start-time="{{queryParams.time}}"></youtube-lite></nav><div id="heg" class="slider"><nav class="navi nav" id="nav"><div class="nav-item navtem"><div class="volumeButton" show$="[[show]]"><paper-icon-button class="right" on-click="_volume"></paper-icon-button></div></div><div class="nav-item navtem"><p></p><div id="valu" class="value">{{transformedTime}}</div><p></p></div><div class="nav-item navtem"><span><p></p></span></div><div class="nav-item navtem topy"><play-button class="state" id="state" active="{{playing}}"></play-button></div><div class="nav-item navtem"><p></p><div id="valu2" class="value2">{{fulTime}}</div><p></p></div></nav><div class="row"><div class="coll-xs-12"><vol-but class="nav volume" id="volume" show$="[[show]]" show-me="[[show]]"></vol-but></div></div></div><nav id="controls" class="nav"><div class="nav-item"></div></nav><div class="row" id="res"><div class="coll-xs-12 mie" id="results" default$="[[default]]" drop$="[[toggle]]" wide$="[[wide]]"><paper-icon-button icon="menu" on-click="_drToggle" drop$="[[toggle]]"></paper-icon-button><search-results id="results" class="width" mini="true" side-ways="[[sideWays]]" bottom="[[bottom]]" route="{{route}}" items="{{items}}"></search-results><drag-button class="drag" wide$="[[wide]]" toggle="{{toggle}}"></drag-button></div></div><nav id="bottom" class="navbar-bottom"><span></span></nav><youtube-search search="{{videData.page}}" api="[[Details]]" class="search" hide="true" video-data="{{timeData}}"></youtube-search></template><script>class pageVideo extends Polymer.Element{static get is(){return'page-video'}static get properties(){return{route:{type:Object,notify:!0},timeData:{type:Object,observer:'_toSeconds'},realTime:{type:String,obsever:'setTime'},playing:{type:Boolean,notify:!0,observer:'_playingChanged'},videoId:{type:String,notify:!0},transformedTime:{type:String,notify:!0},videoPageActive:{type:Boolean,reflectToAttribute:!0,observer:'_videoPageActiveChanged'},queryParams:{type:Object},resize:{type:Boolean,notify:!0},change:{type:Boolean,notify:!0,observer:'setItems'},hours:{type:String,value:'0'},minutes:{type:String,value:'0'},seconds:{type:String,value:'0'},time:{type:String,notify:!0,observer:'log'},fulTime:{type:String,notify:!0},sideWays:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},bottom:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},toggle:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},default:{type:Boolean,value:!0,notify:!0,reflectToAttribute:!0},wide:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},show:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},lock:{type:Boolean,value:!1},items:{type:Array,notify:!0},Details:{type:Object,value:function(){return{method:'videoDetails',api:'videos'}}}}}ready(){super.ready(),window.addEventListener('orientation-change',function(a){this.orient('layout',a.detail)}.bind(this)),setTimeout(()=>{var a,b=Math.floor;400>=window.innerWidth?(a=9,320>=window.innerWidth&&(a=15)):a=6,this.$.state.style.visibility='visible',this.$.valu.style.visibility='visible',this.$.valu2.style.visibility='visible',this.$.valu.style.marginRight=a=b(window.innerWidth/a-5)+'px',this.$.valu.style.transition='margin-right 0.5s ease-in-out',this.$.valu2.style.marginLeft=b(window.innerWidth/7)+'px',this.$.valu2.style.transition='margin-right 0.5s ease-in-out'},750)}static get observers(){return['_playingChanged(playing)','_stateChanged(queryParams.state)','_time(queryParams)','_seethisshit()']}log(a){console.log(a)}setItems(){}setVideo(){}_seethisshit(){window.scrollTo({},0)}_drToggle(){this.bottom=!this.bottom}_volume(){this.show=!this.show}orient(a,b){90===b&&!0!==this.lock&&(this.lock=!0,this.default=!1,this.wide=!0,this.sideWays=!0,this.$.heg.style.display='none',this.$.player.style.display='none',this.$.bottom.style.display='none',this.$.player.style.marginBottom='83px',setTimeout(()=>{window.document.body.style.overflowY='hidden',window.document.body.style.overflowX='hidden',this.style.position='fixed',this.$.player.style.top='-10px',this.$.player.style.width=window.innerWidth-40+'px',this.$.player.style.height=window.screen.height-60+'px',this.$.player.style.display='block'},1e3)),0===b&&!1!==this.lock&&(this.default=!0,this.wide=!1,this.sideWays=!1,this.lock=!1,window.document.body.style.overflowY='auto',this.style.position='relative',setTimeout(()=>{this.$.player.style.marginBottom='0px',this.$.player.style.top='0px',this.$.heg.style.display='block',this.$.bottom.style.display='block'},500))}pause(){this.set('queryParams.state','paused')}play(){setTimeout(()=>{this.set('queryParams.state','playing')},200)}_playingChanged(a){this.set('queryParams.state',a?'playing':'paused'),'playing'===this.queryParams.state&&(this.playing=!0,setTimeout(()=>{this.orient('orient',window.screen.orientation.angle),this.$.player.$.player.play()},1e3)),this.getTime(this.queryParams)}_stateChanged(a){setTimeout(()=>{this.set('fulTime',this.$.player.$.player.durationformatted),this.fullVolVal=this.$.player.$.player.volume},250),this.playing='playing'===a,this.getTime(this.queryParams)}_videoPageActiveChanged(a,b){this._time({});var c;if(this.routePage='videos',a?c=0:(c=255,this.style.display=''),this._time({}),this.$.heg.style.background='linear-gradient(to right, #464446 0%, #070401 5%, #464446 50%, #040500 95%, #464446 100%)',this.style.zIndex=1,void 0===b)return document.body.style.transition='background .2s linear',this._time({}),void setTimeout(()=>{this.set('queryParams.state','playing')},200)}setTime(a){getTime({time:a})}_time(a){!1===a.hasOwnProperty('state')&&(this.transformedTime=`00:00:00`),'playing'===a.state&&(this.set('seconds',10>a.time%60?`0${a.time%60}`:`${a.time%60}`),this.set('transformedTime',`${this.hours}:${this.minutes}:${this.seconds}`),0===parseInt(a.time)%60&&this.getTime(a))}getTime(a){if(!0===a.hasOwnProperty('time')){var b,c,d=a.time/60,e=d.toString().split('.');3600<=a.time?(d=parseFloat(e[0])/60,0<d%60&&(c=parseFloat(a.time/3600).toString().split('.')[0],b=e[0]%60),0===d%60&&(c=parseInt(this.hours.value)+1,b=e[0]%60)):(b=e[0]%60,c='0'),b=10>b?`0${b}`:`${b}`,this.set('minutes',b),c=10>c?`0${c}`:`${c}`,this.set('hours',c)}}}window.customElements.define(pageVideo.is,pageVideo);</script></dom-module></body></html>