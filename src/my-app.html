<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!-- custom elements-->
<link rel="import" href="imports.html">
<link rel="import" href="../public/components/simple-menubar.html">
<link rel="import" href="../public/components/news-player.html">
<link rel="import" href="my-video.html">
<link rel="import" href="my-icons.html">
<!-- routes elements-->
<link rel="lazy-import" href="my-news.html">
<link rel="lazy-import" href="my-sports.html">
<link rel="lazy-import" href="my-movies.html">
<link rel="lazy-import" href="my-radio.html">
<link rel="lazy-import" href="../public/components/search-results.html">
<link rel="lazy-import" href="../public/stylesheets/shared-styles-navbar.html">
<link rel="lazy-import" href="my-view404.html">
<!-- shared styles-->

<dom-module id="my-app">
  <template>
    <style include="shared-styles-nav">
      :host {
        --app-primary-color: rgba(11, 12, 12, 0.835);
        --app-secondary-color: var(--paper-green-900);
        --app-third-color: #adc6b7;
        --app-fourth-color: #00bcd4;
        --app-shadow-color: rgb(114, 138, 150);
        --app-shadow-color2: #0b399e;
        --app-shadow-color3: #0c2864;
        --app-font-size-1: 0.6em;
        --app-font-size-2: 1em;
        display: block;
      }

      app-toolbar {
        color: var(--app-primary-color);
        font-weight: bold;
      }

      iron-selector.drawer-list {
        height: 67px;
        position: relative;
        margin-top: 2px;
        transition: background 0.5s ease-in-out, color 0.5s ease-in-out;
        overflow-y: auto;
        overflow-x: hidden;
      }

      iron-selector.drawer-list[open] {
        position: fixed;
        top: 0px;
        left: 0px;
        height: 1022px;
        width: 100%;
        background: rgba(25, 26, 27, 0.781);
      }

      iron-selector.drawer-list a {
        display: block;
        padding: 0 16px;
        text-decoration: none;
        color: var(--paper-cyan-500);
        text-shadow: 1px 1px 1px var(--app-shadow-color3);
        line-height: 40px;
      }

      a.iron-selected {
        color: black;
        font-weight: bold;
      }

      #drawerList::-webkit-scrollbar {
        width: 0px;
      }

      paper-button {
        margin-left: 11px;
        margin-right: 11px;
      }

      paper-button.green[active] {
        background-color: var(--paper-red-500);
      }

      .togglePage {
        color: white;
        height: 34px;
        width: 43px;
        background: transparent;
        border-bottom-right-radius: 15px;
        -webkit-transition: background 0.5s ease-in-out 0.5s;
        -moz-transition: background 0.5s ease-in-out 0.5s;
        transition: background 0.5s ease-in-out 0.5s;
      }

      .togglePage[open] {
        position: relative;
        left: 46.5%;
        color: var(--app-fourth-color);
      }

      .upButton {
        height: 14.5px;
        width: 15px;
        background: transparent;
        float: left;
      }

      .downButton {
        height: 14.5px;
        width: 15px;
        background: transparent;
        float: left;
      }

      .hidden {
        width: 15px;
        height: 30px;
        float: left;
      }

      .dropButton {
        display: block;
        height: 31px;
        width: 25px;
        background: transparent;
        float: left;
        -webkit-transition: all 0.5s ease-in-out 0.5s;
        -moz-transition: all 0.5s ease-in-out 0.5s;
        transition: all 0.5s ease-in-out 0.5s
      }

      .container {
        position: relative;
        top: 144px;
      }

      .container2 {
        position: relative;
        overflow-y: -webkit-paged-y
      }

      .container3 {
        position: relative;
        text-align: left;
        overflow-y: -webkit-paged-y;
        overflow-x: hidden
      }

      .container4 {
        position: relative;
        bottom: -800px;
      }

      .navbar>div {
        padding-left: 3px;
        padding-right: 1px;
        margin: 1px;
        min-height: 20px;
        margin-bottom: 0px;
        width: 50%;
      }

      .flex-vertical {
        @apply --layout-vertical;
      }

      .flex-horizontal {
        @apply --layout-horizontal;
      }

      .flexchild-vertical {
        @apply --layout-flex;
      }

      .flexchild-verticalext {
        /*  @apply --layout-flex;*/
        width: 787px !important;
      }

      .flexchild-verticalext2 {
        /* @apply --layout-flex;*/
        width: 182px !important;
      }

      .flexchild-vertical2 {
        @apply --layout-flex-2;
      }

      .flexchild-vertical3 {
        @apply --layout-flex-3;
        padding: 10px;
      }

      .flexchild-vertical4 {
        @apply --layout-flex-4;
      }

      .flexchild-vertical12 {
        @apply --layout-flex-12;
      }

      .flexchild-vertical-auto {
        @apply --layout-flex-auto;
      }

      .bottomer {
        position: relative;
        top: 84px;
        margin-bottom: 150px;
        height: 400px;
      }

      .pubArea {
        margin-top: 15px;
        margin-bottom: 15px;
        padding-left: 5px;
        padding-right: 5px;
        height: 5em
      }

      .topfixed {
        position: fixed;
        top: 0px;
        width: 100%;
        z-index: 5;
        box-shadow: 0px 3px 5px rgb(131, 136, 131);
        background: var(--app-primary-color)
      }

      .bottomfixed[video] {
        position: fixed;
        bottom: 0px;
        height: -webkit-fill-available;
        width: 100%;
        z-index: 8;
        opacity: 1;
        box-shadow: 0px 3px 5px #44ab72;
        background: #000000c9;
        transition: all 0.7s ease-in;
      }

      .bottomfixed {
        position: fixed;
        bottom: 0px;
        height: 0px;
        width: 100%;
        z-index: 0;
        opacity: 0;
        -webkit-transition: all 0.5s ease-in;
        -moz-transition: all 0.5s ease-in;
        transition: all 0.7s ease-in;
      }


      .zaline {
        width: 25%;
        font-size: var(--app-font-size-2);
        letter-spacing: 12px;
        font-family: sans-serif;
        font-style: italic;
        text-shadow: 1px 1px 1px var(--app-shadow-color);
      }

      .zalinePage {
        padding-top: 5px;
        padding-left: 4%;
        text-align: center;
        height: 61px;
        font-variant: all-petite-caps;
        letter-spacing: 15px;
        color: var(--app-third-color);
        font-family: sans-serif;
        font-style: italic;
        text-shadow: 1px 1px 1px var(--app-shadow-color2);
        overflow-x: hidden;
      }

      .redCircle {
        width: 10px;
        height: 10px;
        border-radius: 100%;
        background: red;
        float: left;
      }

      .someColor {
        position: relative;
        top: 25px;
        height: 61px;
        float: left;
        color: var(--paper-cyan-500);
        text-shadow: 1px 0px 1px var(--app-shadow-color2);
        font-size: var(--app-font-size-1);
        letter-spacing: 1px
      }

      .pageVideo {
        position: absolute;
        height: 800px;
        width: 800px;
        background: black
      }

      .closeButton {
        position: relative;
        left: 94%;
        cursor: pointer;
        color: rgba(7, 7, 7, 0.712);
        text-shadow: 1px 1px 0px rgba(158, 142, 142, 0.767);
        font-size: -webkit-xxx-large;
        font-weight: 100;
        height: 30px!important;
        width: 30px!important;
        background: black;
        padding-left: 16px!important;
        padding-right: 0px!important;
        margin: 0px!important;
        margin-bottom: 0px!important;
      }


      .video {
        margin-left: 15% !important;
        margin-top: 5% !important;
        width: 70% !important;
      }

      #results4 {
        position: relative;
        top: 21px;
      }

      .navbar-right {
        z-index: 5;
        margin-top: 10%;
        float: right;
        width: 200px;
        height: 2490px;
      }

      .navbar-right h3 {
        color: white;
        background: rgba(10, 10, 10, 0.562)
      }

      .row {
        background: var(--app-primary-color);
        height: 650px;
        margin-bottom: 25px
      }

      @media (min-width: 576px) {
        .container5 {
          max-width: 540px;
        }
        .container {
          margin-left: 5%;

        }
      }

      @media (min-width: 768px) {
        .container5 {
          margin-left: 0%;
        }
        .container {
          margin-left: 5%;
        }
      }

      @media (min-width: 992px) {
        .container5 {
          max-width: 960px;
        }
        .container {
          margin-left: 12%;
        }
      }

      @media (min-width: 1097px) {
        .flexchild-verticalext2 {
          /* @apply --layout-flex;*/
          width: 150px !important;
        }
      }

      @media (min-width: 1200px) {
        .container5 {
          max-width: 1280px;
          margin-left: 1%;
          margin-right: 1%;
        }
        .container {
          width: 70%;
          margin-left: 0%;
        }
      }

      @media (min-width: 1280px) {
        .flexchild-verticalext2 {
          /* @apply --layout-flex;*/
          width: 280px !important;
        }
      }

      @media (min-width: 1300px) {
        .container5 {
          margin-left: 12%;
        }
        .container {
          margin-left: 5%;
        }
      }

      @media (min-width: 1536px) {

        .flexchild-verticalext2 {
          /* @apply --layout-flex;*/
          width: 580px !important;
        }
      }

      @media (min-width: 1745px) {

        .flexchild-verticalext2 {
          /* @apply --layout-flex;*/
          width: 548px !important;
        }
        .flexchild-verticalext {
          /* @apply --layout-flex;*/
          width: 900px !important;
        }
      }

      @media (max-width: 575px) {}

      @media (max-width: 767px) {}

      @media (max-width: 991px) {}

      @media (max-width: 1199px) {}
    </style>

    <app-location route="{{route}}" url-space-regex="^[[rootPath]]">
    </app-location>

    <app-route route="{{route}}" pattern="[[rootPath]]:page" data="{{routeData}}" tail="{{subroute}}" query-params="{{query}}"
      active="[[active]]">
    </app-route>

    <!-- Main content -->
    <nav class="navbar navbar-dark topfixed flex-vertical">
      <app-toolbar class="">
        <div class="zaline">
          Tueeber
        </div>
        <div class="zaline">
          <div class="someColor">
            <div class="redCircle"></div>
            live now
          </div>
          <div id="circle" class="zalinePage">
            [[liveNow]]</div>
        </div>
        <iron-selector id="drawerList" open$="[[open]]" selected="[[page]]" attr-for-selected="name" class="drawer-list flexchild-vertical"
          role="navigation">
          <div class="container2 flex-vertical">
            <div class="flexchild-vertical">
              <div class="container3 flex-horizontal">
                <paper-button toggles class="flexchild-vertical">
                  <a name="view1" href="[[rootPath]]news">News</a>
                </paper-button>
                <paper-button toggles class="flexchild-vertical">
                  <a name="view2" href="[[rootPath]]sports">Sports</a>
                </paper-button>
                <paper-button toggles class="flexchild-vertical">
                  <a name="view3" href="[[rootPath]]movies">Movies</a>
                </paper-button>
              </div>
            </div>
            <div class="flexchild-vertical">
              <div class="container3 flex-horizontal">
                <paper-button toggles class="flexchild-vertical">
                  <a name="view3" href="[[rootPath]]radio">Radio</a>
                </paper-button>
                <paper-button toggles class="flexchild-vertical">
                  <a name="view3" href="[[rootPath]]movies">Music </a>
                </paper-button>
                <paper-button toggles class="flexchild-vertical">
                  <a name="view3" href="[[rootPath]]radio"> Animation</a>
                </paper-button>
              </div>
            </div>
            <div class="flexchild-vertical">
              <div class="container3 flex-horizontal">
                <paper-button toggles class="flexchild-vertical">
                  <a name="view1" href="[[rootPath]]news"> Learn</a>
                </paper-button>
                <paper-button toggles class="flexchild-vertical">
                  <a name="view2" href="[[rootPath]]sports">Channels</a>
                </paper-button>
                <paper-button toggles class="flexchild-vertical">
                  <a name="view3" href="[[rootPath]]movies">Finance</a>
                </paper-button>
              </div>
            </div>
            <div class="flexchild-vertical">
              <div class="container3 flex-horizontal">
                <paper-button toggles class="flexchild-vertical">
                  <a name="view3" href="[[rootPath]]radio">Teach</a>
                </paper-button>
                <paper-button toggles class="flexchild-vertical">
                  <a name="view3" href="[[rootPath]]movies"> Radio </a>
                </paper-button>
                <paper-button toggles class="flexchild-vertical">
                  <a name="view3" href="[[rootPath]]radio">Technology</a>
                </paper-button>
              </div>
            </div>
          </div>
        </iron-selector>
        <div class="togglePage" open$="[[open]]">
          <div id="dropButton" class="dropButton" open$="[[open]]" on-click="openScroll">
            <iron-icon icon="menu"></iron-icon>
          </div>
          <nav id="navHidden" class="hidden">
            <iron-icon class="upButton" on-click="scrollUp" icon="arrow-drop-up"></iron-icon>
            <iron-icon class="downButton" on-click="scrollDown" icon="arrow-drop-down"></iron-icon>
          </nav>
        </div>
      </app-toolbar>
    </nav>
    <div class="row">
      <nav class="navbar container5 bottomer flex-horizontal">
        <div class="flexchild-verticalext2">
          <search-results id="results4" side-fix search="[[liveNow]] news">
            loading...
          </search-results>
        </div>
        <div class="flexchild-verticalext">
          <news-player id="player" live-now="{{liveNow}}"></news-player>
        </div>
        <div class="flexchild-verticalext2">
          <search-results id="results4" side-fix bottom search="[[liveNow]] news">
            loading...
          </search-results>
        </div>
      </nav>
    </div>
    <!-- area de affiliates e pubblicidade-->
    <nav class="navbar navbar-right">
      <label for="results7">
        <h3>ebay</h3>
      </label>
      <search-results background="rgba(27, 44, 83, 0.8117647058823529)" side-fix id="results7" bottom="true" search="ebay">
        loading...
      </search-results>
      <label for="results8">
        <h3>amazon</h3>
      </label>
      <search-results background="rgba(5, 37, 3, 0.78)" side-fix id="results8" bottom="true" search="amazon">
        loading...
      </search-results>
      <label for="results9">
        <h3>publicity</h3>
      </label>
      <search-results background="rgba(63, 81, 81, 0.63)" side-fix id="results9" bottom="true" search="publicity">
        loading...
      </search-results>
    </nav>
    <div class="container flex-horizontal">
      <div class="col-xs-12">
        <div class="flexchild-vertical12">
          <iron-pages selected="[[page]]" attr-for-selected="name" fallback-selection="view404" role="main">
            <my-news name="news" mobile></my-news>
            <my-sports name="sports"></my-sports>
            <my-movies name="movies"></my-movies>
            <my-radio name="radio"></my-radio>
            <my-view404 name="view404"></my-view404>
          </iron-pages>
        </div>
      </div>
    </div>
    <div class="container4">
      <div class="navbar pubArea">
        <div class="flex-vertical">
          <div class="flexchild-vertical2">
            <h3>SPAM</h3>
            <span>
              <label>
                <h4>Owner</h4>
              </label>
              <p>
                I have spam, spam, spam, sausage and eggs, spam and spam
              </p>
            </span>
            <span>
              <label>
                <h4>Client</h4>
              </label>
              <p>
                Can i have sausage and eggs without the spam?
              </p>
            </span>
            <span>
              <label>
                <h4>Owner</h4>
              </label>
              <p>
                You can't have sausage and eggs without the spam!!
              </p>
            </span>
            <span>
              <label>
                <h4>Client</h4>
              </label>
              <p>
                But i don't like SAPM..!!!
              </p>
            </span>
            <span>
              <label>
                <h4>Clients (Choir)</h4>
              </label>
              <p>
                spam, spam, spam, spam, spam...
              </p>
            </span>
          </div>
          <div class="flexchild-vertical2">
            Foooooooooooooooooooooooooooooooooooooter
          </div>
          <div class="flexchild-vertical2">
            Foooooooooooooooooooooooooooooooooooooter
          </div>
        </div>
      </div>
    </div>
    <nav id="pageVideo" class="navbar navbar-dark bottomfixed flex-vertical" video$="[[video]]">
      <div class="closeButton" on-click="closeVideo">
        x
      </div>
      <div class="video flexchild-vertical">
        <my-video id="video" route="route" sideways="true">
        </my-video>
      </div>
    </nav>
  </template>

  <script>
    Polymer.setPassiveTouchGestures(true);

    class MyApp extends Polymer.Element {
      static get is() { return 'my-app'; }

      static get properties() {
        return {
          page: {
            type: String,
            reflectToAttribute: true,
            observer: '_pageChanged',
          },
          routeData: Object,
          num: {
            type: Number,
            value: 0
          },
          open: {
            type: Boolean,
            value: false,
            notify: true,
            reflectToAttribute: true
          },
          video: {
            type: Boolean,
            value: false,
            notify: true,
            reflectToAttribute: true
          },
          subroute: String,
          rootPath: String,
          liveNow: {
            type: String,
            notify: true
          }
        };
      }

      static get observers() {
        return [
          '_routePageChanged(routeData.page)',
        ];
      }

      _routePageChanged(page) {
        if (page === 'video') {
          this.$.player.pause = true
          this.video = true
          this.$.video.videoId = this.subroute.path.slice(1, this.subroute.path.length)
          setTimeout(() => {
         //   window.history.pushState({}, null, this.page)
          }, 100)
        } else {
          this.video = this.video === true ? !this.video : this.video
          this.page = page || 'news';
        }

        setTimeout(() => {
          if (this.query.url && this.query.url.length > 0) {
            window.open(this.query.url, "_blank", "toolbar=yes,top=50,left=100,width=800,height=800")
            history.pushState({}, null, this.page)
          }
        }, 100)

      }

      scrollUp() {
        this.$.drawerList.scrollTo({}, (this.$.drawerList.scrollTop - 10))
        if (this.$.drawerList.scrollTop <= 0)
          this.$.drawerList.scrollTop = 0
      }
      scrollDown() {
        this.$.drawerList.scrollTo({}, (this.$.drawerList.scrollTop + 10))
        if (this.$.drawerList.scrollTop >= 200)
          //debugger
          this.$.drawerList.scrollTop = 200
      }
      openScroll() {
        this.open = !this.open
      }
      closeVideo() {
        window.dispatchEvent(new CustomEvent('location-changed'));
        this.video = false;
        this.$.video.playing = false
        this.$.player.pause = false
      }
      _pageChanged(page) {
        const resolvedPageUrl = this.resolveUrl('my-' + page + '.html');
        Polymer.importHref(
          resolvedPageUrl,
          null,
          this._showPage404.bind(this),
          true);
      }

      _showPage404() {
        this.page = 'view404';
      }
    }

    window.customElements.define(MyApp.is, MyApp);
  </script>
</dom-module>